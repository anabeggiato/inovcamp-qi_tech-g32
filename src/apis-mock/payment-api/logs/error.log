{"amount":10000,"error":"connect ECONNREFUSED ::1:5432","investorId":"2","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m[INVESTOR-DEPOSITS] Erro ao processar depósito\u001b[39m","timestamp":"2025-10-04 14:02:07"}
{"address":"::1","code":"ECONNREFUSED","errno":-4078,"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m[CUSTODY-ROUTES] Erro ao processar depósito connect ECONNREFUSED ::1:5432\u001b[39m","port":5432,"stack":"Error: connect ECONNREFUSED ::1:5432\n    at C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async query (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\shared\\database.js:42:24)\n    at async Object.processInvestorDeposit (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\custody\\investorDeposits.js:24:32)\n    at async C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\routes\\custody.js:24:24","syscall":"connect","timestamp":"2025-10-04 14:02:07"}
{"address":"::1","code":"ECONNREFUSED","errno":-4078,"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m[PAYMENT-ROUTES] Erro ao criar plano de pagamento connect ECONNREFUSED ::1:5432\u001b[39m","port":5432,"stack":"Error: connect ECONNREFUSED ::1:5432\n    at C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async transaction (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\shared\\database.js:58:20)\n    at async Object.createPaymentPlan (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\services\\paymentService.js:81:9)\n    at async C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\routes\\payments.js:44:29","syscall":"connect","timestamp":"2025-10-04 14:02:25"}
{"amount":10000,"error":"connect ECONNREFUSED ::1:5432","investorId":"2","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m[INVESTOR-DEPOSITS] Erro ao processar depósito\u001b[39m","timestamp":"2025-10-04 14:03:32"}
{"address":"::1","code":"ECONNREFUSED","errno":-4078,"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m[CUSTODY-ROUTES] Erro ao processar depósito connect ECONNREFUSED ::1:5432\u001b[39m","port":5432,"stack":"Error: connect ECONNREFUSED ::1:5432\n    at C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async query (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\shared\\database.js:42:24)\n    at async Object.processInvestorDeposit (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\custody\\investorDeposits.js:24:32)\n    at async C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\routes\\custody.js:24:24","syscall":"connect","timestamp":"2025-10-04 14:03:32"}
{"amount":10000,"error":"connect ECONNREFUSED ::1:5432","investorId":"2","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m[INVESTOR-DEPOSITS] Erro ao processar depósito\u001b[39m","timestamp":"2025-10-04 14:06:03"}
{"address":"::1","code":"ECONNREFUSED","errno":-4078,"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m[CUSTODY-ROUTES] Erro ao processar depósito connect ECONNREFUSED ::1:5432\u001b[39m","port":5432,"stack":"Error: connect ECONNREFUSED ::1:5432\n    at C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async query (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\shared\\database.js:42:24)\n    at async Object.processInvestorDeposit (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\custody\\investorDeposits.js:24:32)\n    at async C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\routes\\custody.js:24:24","syscall":"connect","timestamp":"2025-10-04 14:06:03"}
{"amount":10000,"error":"connect ECONNREFUSED ::1:5432","investorId":"2","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m[INVESTOR-DEPOSITS] Erro ao processar depósito\u001b[39m","timestamp":"2025-10-04 14:06:40"}
{"address":"::1","code":"ECONNREFUSED","errno":-4078,"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m[CUSTODY-ROUTES] Erro ao processar depósito connect ECONNREFUSED ::1:5432\u001b[39m","port":5432,"stack":"Error: connect ECONNREFUSED ::1:5432\n    at C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async query (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\shared\\database.js:42:24)\n    at async Object.processInvestorDeposit (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\custody\\investorDeposits.js:24:32)\n    at async C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\routes\\custody.js:24:24","syscall":"connect","timestamp":"2025-10-04 14:06:40"}
{"address":"::1","code":"ECONNREFUSED","errno":-4078,"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m[PAYMENT-ROUTES] Erro ao criar plano de pagamento connect ECONNREFUSED ::1:5432\u001b[39m","port":5432,"stack":"Error: connect ECONNREFUSED ::1:5432\n    at C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async transaction (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\shared\\database.js:64:20)\n    at async Object.createPaymentPlan (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\services\\paymentService.js:81:9)\n    at async C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\routes\\payments.js:44:29","syscall":"connect","timestamp":"2025-10-04 14:37:10"}
{"address":"::1","code":"ECONNREFUSED","errno":-4078,"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m[PAYMENT-ROUTES] Erro ao criar plano de pagamento connect ECONNREFUSED ::1:5432\u001b[39m","port":5432,"stack":"Error: connect ECONNREFUSED ::1:5432\n    at C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async transaction (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\shared\\database.js:64:20)\n    at async Object.createPaymentPlan (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\services\\paymentService.js:81:9)\n    at async C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\routes\\payments.js:44:29","syscall":"connect","timestamp":"2025-10-04 14:39:15"}
{"address":"::1","code":"ECONNREFUSED","errno":-4078,"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m[PAYMENT-ROUTES] Erro ao criar plano de pagamento connect ECONNREFUSED ::1:5432\u001b[39m","port":5432,"stack":"Error: connect ECONNREFUSED ::1:5432\n    at C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async transaction (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\shared\\database.js:64:20)\n    at async Object.createPaymentPlan (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\services\\paymentService.js:81:9)\n    at async C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\routes\\payments.js:44:29","syscall":"connect","timestamp":"2025-10-04 14:39:31"}
{"address":"::1","code":"ECONNREFUSED","errno":-4078,"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m[PAYMENT-ROUTES] Erro ao criar plano de pagamento connect ECONNREFUSED ::1:5432\u001b[39m","port":5432,"stack":"Error: connect ECONNREFUSED ::1:5432\n    at C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async transaction (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\shared\\database.js:68:20)\n    at async Object.createPaymentPlan (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\services\\paymentService.js:81:9)\n    at async C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\routes\\payments.js:44:29","syscall":"connect","timestamp":"2025-10-04 14:40:59"}
{"code":"22P02","file":"numutils.c","length":151,"level":"\u001b[31merror\u001b[39m","line":"616","message":"\u001b[31m[PAYMENT-ROUTES] Erro ao criar plano de pagamento invalid input syntax for type integer: \"LOAN-123\"\u001b[39m","name":"error","routine":"pg_strtoint32_safe","severity":"ERROR","stack":"error: invalid input syntax for type integer: \"LOAN-123\"\n    at C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\node_modules\\pg\\lib\\client.js:545:17\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\services\\paymentService.js:83:13\n    at async transaction (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\shared\\database.js:71:24)\n    at async Object.createPaymentPlan (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\services\\paymentService.js:81:9)\n    at async C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\routes\\payments.js:44:29","timestamp":"2025-10-04 14:49:27","where":"unnamed portal parameter $7 = '...'"}
{"code":"23503","constraint":"installments_loan_id_foreign","detail":"Key (loan_id)=(123) is not present in table \"loans\".","file":"ri_triggers.c","length":278,"level":"\u001b[31merror\u001b[39m","line":"2599","message":"\u001b[31m[PAYMENT-ROUTES] Erro ao criar plano de pagamento insert or update on table \"installments\" violates foreign key constraint \"installments_loan_id_foreign\"\u001b[39m","name":"error","routine":"ri_ReportViolation","schema":"public","severity":"ERROR","stack":"error: insert or update on table \"installments\" violates foreign key constraint \"installments_loan_id_foreign\"\n    at C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\node_modules\\pg\\lib\\client.js:545:17\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\services\\paymentService.js:105:17\n    at async transaction (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\shared\\database.js:71:24)\n    at async Object.createPaymentPlan (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\services\\paymentService.js:81:9)\n    at async C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\routes\\payments.js:44:29","table":"installments","timestamp":"2025-10-04 14:49:51"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m[PAYMENT-ROUTES] Erro ao consultar status Pagamento não encontrado\u001b[39m","stack":"Error: Pagamento não encontrado\n    at Object.getPaymentStatus (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\payment-methods\\paymentMethods.js:173:15)\n    at Object.getOrchestratedPaymentStatus (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\services\\paymentService.js:587:42)\n    at C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\routes\\payments.js:148:39\n    at Layer.handle [as handle_request] (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at param (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\node_modules\\express\\lib\\router\\index.js:376:14)","timestamp":"2025-10-04 15:09:43"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m[PAYMENT-ROUTES] Erro ao consultar status Pagamento não encontrado\u001b[39m","stack":"Error: Pagamento não encontrado\n    at Object.getPaymentStatus (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\payment-methods\\paymentMethods.js:173:15)\n    at Object.getOrchestratedPaymentStatus (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\services\\paymentService.js:587:42)\n    at C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\routes\\payments.js:148:39\n    at Layer.handle [as handle_request] (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at param (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\node_modules\\express\\lib\\router\\index.js:376:14)","timestamp":"2025-10-04 15:09:59"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m[CUSTODY-ACCOUNTS] Erro ao criar conta de custódia Conta de custódia já existe para este usuário\u001b[39m","stack":"Error: Conta de custódia já existe para este usuário\n    at Object.createCustodyAccount (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\custody\\custodyService.js:279:15)\n    at C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\routes\\custody-accounts.js:24:46\n    at Layer.handle [as handle_request] (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\node_modules\\express\\lib\\router\\index.js:175:3)","timestamp":"2025-10-04 15:34:00"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m[CUSTODY-ACCOUNTS] Erro ao depositar valor custodyService.depositToAccount is not a function\u001b[39m","stack":"TypeError: custodyService.depositToAccount is not a function\n    at C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\routes\\custody-accounts.js:76:46\n    at Layer.handle [as handle_request] (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at param (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\node_modules\\express\\lib\\router\\index.js:376:14)\n    at Function.process_params (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\node_modules\\express\\lib\\router\\index.js:421:3)\n    at next (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\node_modules\\express\\lib\\router\\index.js:280:10)","timestamp":"2025-10-04 15:34:49"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m[CUSTODY-ACCOUNTS] Erro ao depositar valor custodyService.depositToAccount is not a function\u001b[39m","stack":"TypeError: custodyService.depositToAccount is not a function\n    at C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\routes\\custody-accounts.js:76:46\n    at Layer.handle [as handle_request] (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at param (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\node_modules\\express\\lib\\router\\index.js:376:14)\n    at Function.process_params (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\node_modules\\express\\lib\\router\\index.js:421:3)\n    at next (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\node_modules\\express\\lib\\router\\index.js:280:10)","timestamp":"2025-10-04 15:35:12"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m[CUSTODY-ACCOUNTS] Erro ao criar conta de custódia Conta de custódia já existe para este usuário\u001b[39m","stack":"Error: Conta de custódia já existe para este usuário\n    at Object.createCustodyAccount (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\custody\\custodyService.js:279:15)\n    at C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\routes\\custody-accounts.js:24:46\n    at Layer.handle [as handle_request] (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\node_modules\\express\\lib\\router\\index.js:175:3)","timestamp":"2025-10-04 15:57:37"}
{"cause":{},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m[CUSTODY-SERVICE] Erro ao criar conta de custódia: Connection terminated due to connection timeout\u001b[39m","stack":"Error: Connection terminated due to connection timeout\n    at C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async query (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\shared\\database.js:52:24)\n    at async Object.createCustodyAccount (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\custody\\custodyService.js:284:26)\n    at async C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\routes\\custody-accounts.js:24:25","timestamp":"2025-10-04 16:16:49"}
{"cause":{},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m[CUSTODY-ACCOUNTS] Erro ao criar conta de custódia Connection terminated due to connection timeout\u001b[39m","stack":"Error: Connection terminated due to connection timeout\n    at C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async query (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\shared\\database.js:52:24)\n    at async Object.createCustodyAccount (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\custody\\custodyService.js:284:26)\n    at async C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\routes\\custody-accounts.js:24:25","timestamp":"2025-10-04 16:16:49"}
{"amount":500,"error":"null value in column \"id\" of relation \"custody_transactions\" violates not-null constraint","level":"\u001b[31merror\u001b[39m","message":"\u001b[31m[CUSTODY-SERVICE] Erro ao depositar valor\u001b[39m","timestamp":"2025-10-04 16:52:52","userId":"10"}
{"code":"23502","column":"id","detail":"Failing row contains (null, user_10, deposit, 500.00, pix, Depósito via PIX, completed, 2025-10-04 19:52:45.398+00).","file":"execMain.c","length":305,"level":"\u001b[31merror\u001b[39m","line":"1981","message":"\u001b[31m[CUSTODY-ACCOUNTS] Erro ao depositar valor null value in column \"id\" of relation \"custody_transactions\" violates not-null constraint\u001b[39m","name":"error","routine":"ExecConstraints","schema":"public","severity":"ERROR","stack":"error: null value in column \"id\" of relation \"custody_transactions\" violates not-null constraint\n    at C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async query (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\shared\\database.js:64:28)\n    at async Object.depositToAccount (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\custody\\custodyService.js:482:9)\n    at async C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\routes\\custody-accounts.js:76:25","table":"custody_transactions","timestamp":"2025-10-04 16:52:52"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m[PAYMENT-ROUTES] Erro ao consultar status Pagamento não encontrado\u001b[39m","stack":"Error: Pagamento não encontrado\n    at Object.getPaymentStatus (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\payment-methods\\paymentMethods.js:173:15)\n    at Object.getOrchestratedPaymentStatus (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\services\\paymentService.js:587:42)\n    at C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\routes\\payments.js:148:39\n    at Layer.handle [as handle_request] (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at param (C:\\Users\\Inteli\\Documents\\GitHub\\inovcamp-qi_tech-g32\\src\\apis-mock\\payment-api\\node_modules\\express\\lib\\router\\index.js:376:14)","timestamp":"2025-10-04 20:17:57"}
